dist: trusty
sudo: false

language: python

python:
  - "2.7"
  - "3.2"
  - "3.3"
  - "3.4"
  - "3.5"

cache:
  - apt
  - pip

#addons:
#  apt:
#    packages:
#      - libatlas-dev
#      - libatlas-base-dev
#      - liblapack-dev
#      - gfortran

before_install:
  - pip install --use-wheel numpy
  - pip install --use-wheel scipy
  - pip install --use-wheel Cython
  - pip install --upgrade setuptools
  - pip install --upgrade wheel

install:
  - python setup.py install

script:
  - python tests/test.py

deploy:
    provider: pypi
    user: yoch
    password:
        secure: "dU2V+HO4BElB3/b15tv1UT/BUoTBVFbr7/zu8GmJMu7emDwAFG8s4tFBaSe0Y2uDmU+CD9LNZk8bdXxuMEpHLmei7mH9BOEby/uMmnD6LbPG4YSjj5BU/WfhqIoOhrZ2bf8V3dLPwY9C+N/mTkrgI7WnDMM6nSWG7anXsQ6J1ifQZ5sbDNhYgHQEek6u+cy1ASBLfM6fsg5BWKla8+QNZUuw5tji6Cd+qD+CnZ/7RvtJNCpQEvRdXp3sBl7+fl7qgouyzPsyAl9EoGdpOL9SmDrgTLW45AMhKtS9yKaA+JEAETjdtrQd4i57j1BaZ4dv0Iony7ZOWkPrmzsuKc6AVz4+csNhNYRwSFf9+n4qbfVPJA8FFeRPEEgOkUuMOX3F/1+V6RHwaEibCdn2PjVXky7Lrs/VIittfhYY+14fDfN21xrRQlH1h7YzyR1Ae7fYm06wd6a2u6AGohTtWpCgN8BXJC3A15GO1kmPWuabNVGIfZ+4xSF5qdmYV337Am87gxsCdb9kFt90jy/VxMHMZZ1fwLSvEB+Nll6TiGcCCx8XE7Lf6a7Qvd0qdUB4XjTOOhN6CalMQ1EIrNHF6edvLjFyCG/1dj1lv6CFz85Urxx7GKcVQQJIXcaefiuQXwm8Eo7bKdpaGrMNH+5fZtgvN2761vPGCnN91O/4hI6GSKE="
    server: https://testpypi.python.org/pypi
    distributions: bdist_wheel
    on:
        branch: tests
#        tags: true
